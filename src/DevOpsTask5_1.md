### Домашнее задание 5-1

# Задание 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

# Решение 1
Полная (аппаратная) виртуализация выделяется тем, что гипервизор и операционная система объединены, а ВМ используют 
свои виртуальные устройства, ядра и ресурсы, а разделение идет на уровне гипервизора. 
Возможность создавать ВМ с различными типами ОС. Как будто у нас отдельный компьютер.
Хорошая безопасность.

Паравиртуализация работает от основной ОС и модифицирует в ВМ основную ОС. Гипервизор и основная ОС раздельны и 
работает не на прямую, а через API.
Нет возможности создавать ВМ с различными ОС, но есть возможность модернизировать основную ОС.
Меньшие требования к поддержке по сравнению с аппаратной виртуализацией.

Виртуализация на основе ОС выполняется через изолированные контейнеры, которые используют устройства, ядро и другие ресурсы Хост машины, 
а разделение идет на уровне контейнеров.
Нет возможности использовать нативно использовать ВМ с различными ОС, но через костыли в виде ещё одной виртуализации другой ОС можно. 
Например, запустить docker через виртуализацию Linux на Windows.
Гибкость и масштабируемость. Возможность развернуть большое количество изолированных ВМ и маленькие требования к ресурсам.

# Задание 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

    физические сервера, (ФС)
    паравиртуализация, (ПР ВМ)
    виртуализация уровня ОС. (ВМ ОС)

Условия использования:

    Высоконагруженная база данных, чувствительная к отказу.
    Различные web-приложения.
    Windows системы для использования бухгалтерским отделом.
    Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

# Решение 2
    физические сервера, (ФС)
    паравиртуализация, (ПР ВМ)
    виртуализация уровня ОС. (ВМ ОС)

Чувствительность БД к отказу дает "-" к использованию её в ВМ ОС и ПР ВМ. Если упадет основная ОС, то возможно потеря данных.
А её высоконагруженность, наоборот дает "+" к использованию ПР ВМ и ВМ ОС за счет распределения нагрузки, точнее 
к низкой стоимости её реализации, ведь и на ФС можно организовать распределение нагрузки.
Подытог 1 условия: если возможна по бюджету организация кластеризации ПР ВМ и ВМ ОС, то нужно использовать её.

Различные web-приложения будут требовать различных ОС и их версий с низкой нагрузкой.
Что дает "+" к ВМ ОС и ПР ВМ.
ФС не будут использоваться на 100% ресурсов.
Подытог "+" на ВМ ОС и ПР ВМ

Windows системы для бухгалтеров сразу дает "+" за ПР ВМ и ВМ ОС так как им много ресурсов и не надо.

Серьезные расчеты на GPU лучше делать чем проще, тем лучше тут "+" за ФС.

Подводим итоги:
ФС  +1
ПР ВМ   +3 с учетом кластеризации
ВМ ОС    +3 с учетом кластеризации

    Итог: конечно лучше использовать гибридное решение: часть на ФС, а часть ВМ. Но если все же нужно единое решение, то ВМ ОС лучше, 
    так как в ПР ВМ общение идет не через API и он даст только модифицированные ОС основной ОС. Даже с учетом кластеризации и вычетом одного "+".
    А вообще лучше взять аппратную виртуализацию, но это выйдет ещё дороже.

# Задание 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

    1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, 
    требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
    2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) 
    инфраструктуры на базе Linux и Windows виртуальных машин.
    3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
    4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

# Решение 3

    1. Паравиртуализация явно уступает аппаратной в силу задач по репликациям, автоматизации и т.п.
    Так как машины на базе Linux и Windows, а помимо этого для обоих типов виртуальных ос есть общие задачи репликация, 
    автоматизации и т.п., то явно лучше выбрать аппаратную виртуализацию, так как можно использовать 1 решение для всех задач.
    А при низкой нагрузке даже 1 сервер виртуализации.

    2. Из open source решений подойдет Xen, так как поддерживает кроссплатформенность, а учитывая, что это аппаратная виртуализация, 
    то оно будет обеспечивать наибольшую производительность. Бесплатные Hyper-V и VirtualBox хоть и бесплатные, но относятся 
    к паравиртуализации, что явно не даст большой производительности.

    3. Тут выбор точно за Hyper-V, так как это решение от Microsoft, следовательно максимальная совместимость гарантирована.

    4. Контейнеры с Selenoid для тестирования UI, а окружение на docker самое распространенное решение. То есть контейнерезация.

# Задание 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления 
виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, 
то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

# Решение 4
    Это как анекдот про тендер на туннели:
        Объявлен тендер на строительство ещё одного туннеля под Ла-Маншем.
        Участники, США, Германия ,Россия.
        США, мы построим туннель за три года, цена вопроса 100 лямов евро, рыть будем с двух сторон ,точность схождения 1,5 метра.
        Германия, мы построим за 2 года, 80 лямов,рыть будем с 2 сторон, точность схождения 1метр.
        Россия, построим за год, в полтинник евро уложимся, рыть будем с двух сторон, точность схождения... Ну на крайняк будет у вас 2 туннеля)))

    Сама по себе гетерогенная среда виртуализации даже имеет плюсы: можно перекрывать недостатки разных систем виртуализации другой.
    Но чем больше проект и чем сложнее задачи начнут всплывать нюансы реализации каждого из вида виртуализации по отдельности.
    Получится, чтобы сделать 1 задачу для разных видов виртуализаций, придется писать блоки кода под каждую из них.
    Если это сотни строчек кода, наверное можно потерпеть и реализовать. Но ростом количества задач будет увеличиваться разница в реализации
    для каждого вида виртуализации, и наступит такой момент, когда примут решение, что нужно будет для каждого вида виртуализации своё решение.
    А со временем, это уже будут разные проекты, и скорее всего будут поддерживаться разными людьми.
    Стоимость поддержки, стоимость и время решения будут кратно возрастать. И в такие моменты вспоминают о том, что надо было бы делать все 
    однотипно и через одни решения. 

    А в реальном мире, приходят санкции и возможно один из видов виртуализации прекращает поддержку(((
    Все матерятся, работа над ней прекращается и все переписывается под 1 open source решение или что там осталось. 
    И радуются, что не выбрали ушедщий из-за санкций решение как основное, а то пришлось бы все переделывать.

    Ну или я уже зафантазировался))) Извиняюсь.